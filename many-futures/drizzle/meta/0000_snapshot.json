{
  "id": "2aa60713-0701-46f4-b1ae-c94d093c36f8",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.many-futures_agent_memory": {
      "name": "many-futures_agent_memory",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "memory_type": {
          "name": "memory_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'GENERAL'"
        },
        "importance": {
          "name": "importance",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.5'"
        },
        "source": {
          "name": "source",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "source_id": {
          "name": "source_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_agent_memory_project": {
          "name": "idx_agent_memory_project",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_agent_memory_expires": {
          "name": "idx_agent_memory_expires",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "many-futures_agent_memory_project_id_many-futures_project_id_fk": {
          "name": "many-futures_agent_memory_project_id_many-futures_project_id_fk",
          "tableFrom": "many-futures_agent_memory",
          "tableTo": "many-futures_project",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "many-futures_agent_memory_organization_id_many-futures_organization_id_fk": {
          "name": "many-futures_agent_memory_organization_id_many-futures_organization_id_fk",
          "tableFrom": "many-futures_agent_memory",
          "tableTo": "many-futures_organization",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "many-futures_agent_memory_deleted_by_many-futures_user_id_fk": {
          "name": "many-futures_agent_memory_deleted_by_many-futures_user_id_fk",
          "tableFrom": "many-futures_agent_memory",
          "tableTo": "many-futures_user",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.many-futures_audit_log": {
      "name": "many-futures_audit_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "action": {
          "name": "action",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "resource_type": {
          "name": "resource_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "old_values": {
          "name": "old_values",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "new_values": {
          "name": "new_values",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_audit_resource": {
          "name": "idx_audit_resource",
          "columns": [
            {
              "expression": "resource_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "resource_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_audit_org": {
          "name": "idx_audit_org",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "many-futures_audit_log_organization_id_many-futures_organization_id_fk": {
          "name": "many-futures_audit_log_organization_id_many-futures_organization_id_fk",
          "tableFrom": "many-futures_audit_log",
          "tableTo": "many-futures_organization",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "many-futures_audit_log_user_id_many-futures_user_id_fk": {
          "name": "many-futures_audit_log_user_id_many-futures_user_id_fk",
          "tableFrom": "many-futures_audit_log",
          "tableTo": "many-futures_user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.many-futures_block": {
      "name": "many-futures_block",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "episode_id": {
          "name": "episode_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "block_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'MARKDOWN'"
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "position": {
          "name": "position",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "source_urls": {
          "name": "source_urls",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_blocks_episode": {
          "name": "idx_blocks_episode",
          "columns": [
            {
              "expression": "episode_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_blocks_position": {
          "name": "idx_blocks_position",
          "columns": [
            {
              "expression": "episode_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "position",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "many-futures_block_episode_id_many-futures_episode_id_fk": {
          "name": "many-futures_block_episode_id_many-futures_episode_id_fk",
          "tableFrom": "many-futures_block",
          "tableTo": "many-futures_episode",
          "columnsFrom": [
            "episode_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "many-futures_block_organization_id_many-futures_organization_id_fk": {
          "name": "many-futures_block_organization_id_many-futures_organization_id_fk",
          "tableFrom": "many-futures_block",
          "tableTo": "many-futures_organization",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "many-futures_block_deleted_by_many-futures_user_id_fk": {
          "name": "many-futures_block_deleted_by_many-futures_user_id_fk",
          "tableFrom": "many-futures_block",
          "tableTo": "many-futures_user",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.many-futures_chat_message": {
      "name": "many-futures_chat_message",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "chat_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tokens_used": {
          "name": "tokens_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "cost": {
          "name": "cost",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "model": {
          "name": "model",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "extracted_insights": {
          "name": "extracted_insights",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_chat_messages_session": {
          "name": "idx_chat_messages_session",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "many-futures_chat_message_session_id_many-futures_chat_session_id_fk": {
          "name": "many-futures_chat_message_session_id_many-futures_chat_session_id_fk",
          "tableFrom": "many-futures_chat_message",
          "tableTo": "many-futures_chat_session",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "many-futures_chat_message_organization_id_many-futures_organization_id_fk": {
          "name": "many-futures_chat_message_organization_id_many-futures_organization_id_fk",
          "tableFrom": "many-futures_chat_message",
          "tableTo": "many-futures_organization",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.many-futures_chat_session": {
      "name": "many-futures_chat_session",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "episode_id": {
          "name": "episode_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "context_episodes": {
          "name": "context_episodes",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "context_blocks": {
          "name": "context_blocks",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "message_count": {
          "name": "message_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_tokens": {
          "name": "total_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_cost": {
          "name": "total_cost",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_chat_sessions_project": {
          "name": "idx_chat_sessions_project",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_chat_sessions_user": {
          "name": "idx_chat_sessions_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "many-futures_chat_session_project_id_many-futures_project_id_fk": {
          "name": "many-futures_chat_session_project_id_many-futures_project_id_fk",
          "tableFrom": "many-futures_chat_session",
          "tableTo": "many-futures_project",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "many-futures_chat_session_organization_id_many-futures_organization_id_fk": {
          "name": "many-futures_chat_session_organization_id_many-futures_organization_id_fk",
          "tableFrom": "many-futures_chat_session",
          "tableTo": "many-futures_organization",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "many-futures_chat_session_user_id_many-futures_user_id_fk": {
          "name": "many-futures_chat_session_user_id_many-futures_user_id_fk",
          "tableFrom": "many-futures_chat_session",
          "tableTo": "many-futures_user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "many-futures_chat_session_episode_id_many-futures_episode_id_fk": {
          "name": "many-futures_chat_session_episode_id_many-futures_episode_id_fk",
          "tableFrom": "many-futures_chat_session",
          "tableTo": "many-futures_episode",
          "columnsFrom": [
            "episode_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "many-futures_chat_session_deleted_by_many-futures_user_id_fk": {
          "name": "many-futures_chat_session_deleted_by_many-futures_user_id_fk",
          "tableFrom": "many-futures_chat_session",
          "tableTo": "many-futures_user",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.many-futures_episode_schedule_queue": {
      "name": "many-futures_episode_schedule_queue",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "episode_id": {
          "name": "episode_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "generation_start_time": {
          "name": "generation_start_time",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "target_delivery_time": {
          "name": "target_delivery_time",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "queue_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "locked_at": {
          "name": "locked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "locked_by": {
          "name": "locked_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "attempt_count": {
          "name": "attempt_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "max_attempts": {
          "name": "max_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 3
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "result": {
          "name": "result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_queue_processing": {
          "name": "idx_queue_processing",
          "columns": [
            {
              "expression": "generation_start_time",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "priority",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"many-futures_episode_schedule_queue\".\"status\" = 'pending'",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_queue_episode": {
          "name": "idx_queue_episode",
          "columns": [
            {
              "expression": "episode_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "many-futures_episode_schedule_queue_episode_id_many-futures_episode_id_fk": {
          "name": "many-futures_episode_schedule_queue_episode_id_many-futures_episode_id_fk",
          "tableFrom": "many-futures_episode_schedule_queue",
          "tableTo": "many-futures_episode",
          "columnsFrom": [
            "episode_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "many-futures_episode_schedule_queue_organization_id_many-futures_organization_id_fk": {
          "name": "many-futures_episode_schedule_queue_organization_id_many-futures_organization_id_fk",
          "tableFrom": "many-futures_episode_schedule_queue",
          "tableTo": "many-futures_organization",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_queue_entry": {
          "name": "unique_queue_entry",
          "nullsNotDistinct": false,
          "columns": [
            "episode_id",
            "status"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.many-futures_episode": {
      "name": "many-futures_episode",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sources": {
          "name": "sources",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "episode_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'DRAFT'"
        },
        "scheduled_for": {
          "name": "scheduled_for",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "generation_started_at": {
          "name": "generation_started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "published_at": {
          "name": "published_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "generation_attempts": {
          "name": "generation_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "generation_errors": {
          "name": "generation_errors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "episode_number": {
          "name": "episode_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "reading_minutes": {
          "name": "reading_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_episodes_project": {
          "name": "idx_episodes_project",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_episodes_org": {
          "name": "idx_episodes_org",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_episodes_scheduled": {
          "name": "idx_episodes_scheduled",
          "columns": [
            {
              "expression": "scheduled_for",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_episodes_generation_due": {
          "name": "idx_episodes_generation_due",
          "columns": [
            {
              "expression": "scheduled_for",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"many-futures_episode\".\"status\" = 'DRAFT'",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "many-futures_episode_project_id_many-futures_project_id_fk": {
          "name": "many-futures_episode_project_id_many-futures_project_id_fk",
          "tableFrom": "many-futures_episode",
          "tableTo": "many-futures_project",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "many-futures_episode_organization_id_many-futures_organization_id_fk": {
          "name": "many-futures_episode_organization_id_many-futures_organization_id_fk",
          "tableFrom": "many-futures_episode",
          "tableTo": "many-futures_organization",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "many-futures_episode_deleted_by_many-futures_user_id_fk": {
          "name": "many-futures_episode_deleted_by_many-futures_user_id_fk",
          "tableFrom": "many-futures_episode",
          "tableTo": "many-futures_user",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_episode_schedule": {
          "name": "unique_episode_schedule",
          "nullsNotDistinct": false,
          "columns": [
            "project_id",
            "idempotency_key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.many-futures_highlight": {
      "name": "many-futures_highlight",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "episode_id": {
          "name": "episode_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "block_id": {
          "name": "block_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "selected_text": {
          "name": "selected_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "start_offset": {
          "name": "start_offset",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "end_offset": {
          "name": "end_offset",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "color": {
          "name": "color",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'yellow'"
        },
        "chat_session_id": {
          "name": "chat_session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_highlights_user": {
          "name": "idx_highlights_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_highlights_episode": {
          "name": "idx_highlights_episode",
          "columns": [
            {
              "expression": "episode_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "many-futures_highlight_user_id_many-futures_user_id_fk": {
          "name": "many-futures_highlight_user_id_many-futures_user_id_fk",
          "tableFrom": "many-futures_highlight",
          "tableTo": "many-futures_user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "many-futures_highlight_organization_id_many-futures_organization_id_fk": {
          "name": "many-futures_highlight_organization_id_many-futures_organization_id_fk",
          "tableFrom": "many-futures_highlight",
          "tableTo": "many-futures_organization",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "many-futures_highlight_episode_id_many-futures_episode_id_fk": {
          "name": "many-futures_highlight_episode_id_many-futures_episode_id_fk",
          "tableFrom": "many-futures_highlight",
          "tableTo": "many-futures_episode",
          "columnsFrom": [
            "episode_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "many-futures_highlight_block_id_many-futures_block_id_fk": {
          "name": "many-futures_highlight_block_id_many-futures_block_id_fk",
          "tableFrom": "many-futures_highlight",
          "tableTo": "many-futures_block",
          "columnsFrom": [
            "block_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "many-futures_highlight_chat_session_id_many-futures_chat_session_id_fk": {
          "name": "many-futures_highlight_chat_session_id_many-futures_chat_session_id_fk",
          "tableFrom": "many-futures_highlight",
          "tableTo": "many-futures_chat_session",
          "columnsFrom": [
            "chat_session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "many-futures_highlight_deleted_by_many-futures_user_id_fk": {
          "name": "many-futures_highlight_deleted_by_many-futures_user_id_fk",
          "tableFrom": "many-futures_highlight",
          "tableTo": "many-futures_user",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.many-futures_organization_member": {
      "name": "many-futures_organization_member",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'MEMBER'"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_org_members_org": {
          "name": "idx_org_members_org",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_org_members_user": {
          "name": "idx_org_members_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "many-futures_organization_member_organization_id_many-futures_organization_id_fk": {
          "name": "many-futures_organization_member_organization_id_many-futures_organization_id_fk",
          "tableFrom": "many-futures_organization_member",
          "tableTo": "many-futures_organization",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "many-futures_organization_member_user_id_many-futures_user_id_fk": {
          "name": "many-futures_organization_member_user_id_many-futures_user_id_fk",
          "tableFrom": "many-futures_organization_member",
          "tableTo": "many-futures_user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "many-futures_organization_member_deleted_by_many-futures_user_id_fk": {
          "name": "many-futures_organization_member_deleted_by_many-futures_user_id_fk",
          "tableFrom": "many-futures_organization_member",
          "tableTo": "many-futures_user",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_org_user": {
          "name": "unique_org_user",
          "nullsNotDistinct": false,
          "columns": [
            "organization_id",
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.many-futures_organization": {
      "name": "many-futures_organization",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "organization_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'PERSONAL'"
        },
        "owner_id": {
          "name": "owner_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "clerk_org_id": {
          "name": "clerk_org_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "subscriptionTier": {
          "name": "subscriptionTier",
          "type": "subscription_tier",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'TRIAL'"
        },
        "daily_cost_limit": {
          "name": "daily_cost_limit",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'50.00'"
        },
        "episode_cost_limit": {
          "name": "episode_cost_limit",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'3.00'"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_organizations_owner": {
          "name": "idx_organizations_owner",
          "columns": [
            {
              "expression": "owner_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_organizations_clerk": {
          "name": "idx_organizations_clerk",
          "columns": [
            {
              "expression": "clerk_org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.many-futures_planning_note": {
      "name": "many-futures_planning_note",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "episode_id": {
          "name": "episode_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "note_type": {
          "name": "note_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'GENERAL'"
        },
        "status": {
          "name": "status",
          "type": "planning_note_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "scope": {
          "name": "scope",
          "type": "planning_note_scope",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'NEXT_EPISODE'"
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "processed_by": {
          "name": "processed_by",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "impact_summary": {
          "name": "impact_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_planning_notes_project": {
          "name": "idx_planning_notes_project",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_planning_notes_org": {
          "name": "idx_planning_notes_org",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_planning_notes_status": {
          "name": "idx_planning_notes_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "many-futures_planning_note_project_id_many-futures_project_id_fk": {
          "name": "many-futures_planning_note_project_id_many-futures_project_id_fk",
          "tableFrom": "many-futures_planning_note",
          "tableTo": "many-futures_project",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "many-futures_planning_note_organization_id_many-futures_organization_id_fk": {
          "name": "many-futures_planning_note_organization_id_many-futures_organization_id_fk",
          "tableFrom": "many-futures_planning_note",
          "tableTo": "many-futures_organization",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "many-futures_planning_note_user_id_many-futures_user_id_fk": {
          "name": "many-futures_planning_note_user_id_many-futures_user_id_fk",
          "tableFrom": "many-futures_planning_note",
          "tableTo": "many-futures_user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "many-futures_planning_note_episode_id_many-futures_episode_id_fk": {
          "name": "many-futures_planning_note_episode_id_many-futures_episode_id_fk",
          "tableFrom": "many-futures_planning_note",
          "tableTo": "many-futures_episode",
          "columnsFrom": [
            "episode_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "many-futures_planning_note_deleted_by_many-futures_user_id_fk": {
          "name": "many-futures_planning_note_deleted_by_many-futures_user_id_fk",
          "tableFrom": "many-futures_planning_note",
          "tableTo": "many-futures_user",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.many-futures_project": {
      "name": "many-futures_project",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "onboarding_brief": {
          "name": "onboarding_brief",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "cadence_config": {
          "name": "cadence_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{\"mode\":\"weekly\",\"days\":[1],\"deliveryHour\":9}'::jsonb"
        },
        "memories": {
          "name": "memories",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "project_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'ACTIVE'"
        },
        "is_paused": {
          "name": "is_paused",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "next_scheduled_at": {
          "name": "next_scheduled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_projects_org": {
          "name": "idx_projects_org",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_projects_user": {
          "name": "idx_projects_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_projects_status": {
          "name": "idx_projects_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "many-futures_project_organization_id_many-futures_organization_id_fk": {
          "name": "many-futures_project_organization_id_many-futures_organization_id_fk",
          "tableFrom": "many-futures_project",
          "tableTo": "many-futures_organization",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "many-futures_project_user_id_many-futures_user_id_fk": {
          "name": "many-futures_project_user_id_many-futures_user_id_fk",
          "tableFrom": "many-futures_project",
          "tableTo": "many-futures_user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "many-futures_project_deleted_by_many-futures_user_id_fk": {
          "name": "many-futures_project_deleted_by_many-futures_user_id_fk",
          "tableFrom": "many-futures_project",
          "tableTo": "many-futures_user",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.many-futures_token_usage": {
      "name": "many-futures_token_usage",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "episode_id": {
          "name": "episode_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "model": {
          "name": "model",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "operation": {
          "name": "operation",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "prompt_tokens": {
          "name": "prompt_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "completion_tokens": {
          "name": "completion_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "total_tokens": {
          "name": "total_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "total_cost": {
          "name": "total_cost",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_token_usage_org": {
          "name": "idx_token_usage_org",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_token_usage_episode": {
          "name": "idx_token_usage_episode",
          "columns": [
            {
              "expression": "episode_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_token_usage_created": {
          "name": "idx_token_usage_created",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "many-futures_token_usage_organization_id_many-futures_organization_id_fk": {
          "name": "many-futures_token_usage_organization_id_many-futures_organization_id_fk",
          "tableFrom": "many-futures_token_usage",
          "tableTo": "many-futures_organization",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "many-futures_token_usage_episode_id_many-futures_episode_id_fk": {
          "name": "many-futures_token_usage_episode_id_many-futures_episode_id_fk",
          "tableFrom": "many-futures_token_usage",
          "tableTo": "many-futures_episode",
          "columnsFrom": [
            "episode_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "many-futures_token_usage_user_id_many-futures_user_id_fk": {
          "name": "many-futures_token_usage_user_id_many-futures_user_id_fk",
          "tableFrom": "many-futures_token_usage",
          "tableTo": "many-futures_user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.many-futures_token_usage_daily": {
      "name": "many-futures_token_usage_daily",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "total_tokens": {
          "name": "total_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_cost_gbp": {
          "name": "total_cost_gbp",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "generation_tokens": {
          "name": "generation_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "generation_cost_gbp": {
          "name": "generation_cost_gbp",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "chat_tokens": {
          "name": "chat_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "chat_cost_gbp": {
          "name": "chat_cost_gbp",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "episode_count": {
          "name": "episode_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_updated": {
          "name": "last_updated",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_token_daily_lookup": {
          "name": "idx_token_daily_lookup",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "many-futures_token_usage_daily_organization_id_many-futures_organization_id_fk": {
          "name": "many-futures_token_usage_daily_organization_id_many-futures_organization_id_fk",
          "tableFrom": "many-futures_token_usage_daily",
          "tableTo": "many-futures_organization",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_org_date": {
          "name": "unique_org_date",
          "nullsNotDistinct": false,
          "columns": [
            "organization_id",
            "date"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.many-futures_user_event": {
      "name": "many-futures_user_event",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "event_data": {
          "name": "event_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_user_events_user": {
          "name": "idx_user_events_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "event_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_events_org": {
          "name": "idx_user_events_org",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_events_type": {
          "name": "idx_user_events_type",
          "columns": [
            {
              "expression": "event_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "many-futures_user_event_user_id_many-futures_user_id_fk": {
          "name": "many-futures_user_event_user_id_many-futures_user_id_fk",
          "tableFrom": "many-futures_user_event",
          "tableTo": "many-futures_user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "many-futures_user_event_organization_id_many-futures_organization_id_fk": {
          "name": "many-futures_user_event_organization_id_many-futures_organization_id_fk",
          "tableFrom": "many-futures_user_event",
          "tableTo": "many-futures_organization",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.many-futures_user": {
      "name": "many-futures_user",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "clerk_id": {
          "name": "clerk_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "timezone": {
          "name": "timezone",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "default": "'Europe/London'"
        },
        "default_organization_id": {
          "name": "default_organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "notification_preferences": {
          "name": "notification_preferences",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"episodeReady\":true,\"generationFailed\":false}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_users_clerk": {
          "name": "idx_users_clerk",
          "columns": [
            {
              "expression": "clerk_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_users_email": {
          "name": "idx_users_email",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "many-futures_user_clerk_id_unique": {
          "name": "many-futures_user_clerk_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "clerk_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.block_type": {
      "name": "block_type",
      "schema": "public",
      "values": [
        "MARKDOWN",
        "INSIGHT",
        "SIGNAL",
        "SCENARIO"
      ]
    },
    "public.chat_role": {
      "name": "chat_role",
      "schema": "public",
      "values": [
        "user",
        "assistant",
        "system"
      ]
    },
    "public.episode_status": {
      "name": "episode_status",
      "schema": "public",
      "values": [
        "DRAFT",
        "GENERATING",
        "PUBLISHED",
        "FAILED"
      ]
    },
    "public.organization_type": {
      "name": "organization_type",
      "schema": "public",
      "values": [
        "PERSONAL",
        "TEAM"
      ]
    },
    "public.planning_note_scope": {
      "name": "planning_note_scope",
      "schema": "public",
      "values": [
        "NEXT_EPISODE",
        "FUTURE",
        "GENERAL"
      ]
    },
    "public.planning_note_status": {
      "name": "planning_note_status",
      "schema": "public",
      "values": [
        "pending",
        "processing",
        "incorporated",
        "dismissed"
      ]
    },
    "public.project_status": {
      "name": "project_status",
      "schema": "public",
      "values": [
        "ACTIVE",
        "PAUSED",
        "COMPLETED",
        "ARCHIVED"
      ]
    },
    "public.queue_status": {
      "name": "queue_status",
      "schema": "public",
      "values": [
        "pending",
        "processing",
        "completed",
        "failed"
      ]
    },
    "public.role": {
      "name": "role",
      "schema": "public",
      "values": [
        "OWNER",
        "ADMIN",
        "MEMBER"
      ]
    },
    "public.subscription_tier": {
      "name": "subscription_tier",
      "schema": "public",
      "values": [
        "TRIAL",
        "STARTER",
        "GROWTH",
        "ENTERPRISE"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}